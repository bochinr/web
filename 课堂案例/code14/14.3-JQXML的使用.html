<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>两级联动</title>
		<script type="text/JavaScript" src="./js/jquery-3.4.1.js"></script>
		<script type="text/JavaScript">
			function  getCity(){
        //知道选择哪个省
        var pid =$("[name='province']").val();
        var cityId,cityName;
		xhr=new XMLHttpRequest();
		xhr.open("get","123.xml");
		xhr.send()
		xhr.onreadystatechange=function(re){
			if(xhr.status==200&&xhr.readyState==4){
				var result=xhr.responseText;
				console.log(re)
				$("[name='city']").empty();
				$(result).find("[id="+pid+"] city").each(function(){
				    cityId=$(this).attr('id');
				    cityName=$(this).attr('name');
				    $("[name='city']").append("<option value='"+cityId+"'>"+ cityName+"</ option>")
				})
			}
		}
    }
    $(function(){
        var id,name;
		xhr=new XMLHttpRequest();
		xhr.open("get","123.xml");
		xhr.send()
		xhr.onreadystatechange=function(re){
			if(xhr.status==200&&xhr.readyState==4){
				var result=xhr.responseText;
				// console.log(re)
				$(result).find('province').each(function(){
				    id=$(this).attr('id');
				    name=$(this).attr('name');
				    $("[name='province']").append("<option value='"+id+"'>"+ name+"</ option>")
				    })
				     //调用
				    getCity();
			}
		}
        //为省追加事件
        $("[name='province']").change(getCity);
    })
</script>
	</head>
	<body>
		省：<select name="province"></select>
		市：<select name="city"></select>
	</body>
</html>
